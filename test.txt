
template<bool EP, bool WL, bool WR, bool BL, bool BR, bool IsWhite>
class GameState {
public:
    static constexpr bool ep = EP;
    static constexpr bool wL = WL;
    static constexpr bool wR = WR;
    static constexpr bool bL = BL;
    static constexpr bool bR = BR;
    static constexpr bool isWhite = IsWhite;

    constexpr bool hasCastle() const {
        if (isWhite) return wL || wR;
        else return bL || bR; 
    }

    constexpr bool enemyCastle() const {
        if (isWhite) return bL || bR;
        else return wL || wR; 
    }

    constexpr GameState kingMove() const {
        if (isWhite) return GameState<false, false, false, bL, bR, false>();
        else return GameState<false, wL, wR, false, false, true>();
    }

    constexpr GameState move() const {
        if (isWhite) return GameState<false, wL, wR, bL, bR, false>();
        else return GameState<false, wL, wR, bL, bR, true>();
    }

    constexpr GameState LRookMove() const {
        if (isWhite) return GameState<false, false, wR, bL, bR, false>();
        else return GameState<false, wL, wR, false, bR, true>();
    }

    constexpr GameState RRookMove() const {
        if (isWhite) return GameState<false, wL, false, bL, bR, false>();
        else return GameState<false, wL, wR, bL, false, true>();
    }

    constexpr GameState pawnPush() const {
        if (isWhite) return GameState<true, wL, wR, bL, bR, false>();
        else return GameState<true, wL, wR, bL, bR, true>();
    }
};